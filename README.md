# TypeScript

- ## Что это такое?
    - Typescript - строго типизированный язык программирования основанный на JavaScript.
- ## Как это устроено? Из чего состоит?
    - **Синтаксис**, TS расширяет возможности JavaScript добавляя
        - строгую типизацию
        - улучшенное ООП
        - и множество других возможностей
    - **Компилятор**
        - проверяет типы и компилирует код из TS в JS
    - **Сервис для редактора**, который проверяет типы еще при написании кода
- ## Как это работает?
    1. Код на TS преобразуется в абстрактное синтаксическое дерево (АСД), это такая специальная структура данных
    2. АСД проходит проверку типов
    3. Код TS преобразуется в JS код, иначе говоря происходит транспиляция


  На этом этапе мы получаем обычный JS код, который в дальнейшем может выполниться любой средой выполнения JS, например, которая находится в браузере или Node.js

  > Выполнение JS кода это уже отдельная тема, но в целом мы в нем также получаем АСД правда, которое потом не проходит проверку типов, а сразу компилируется в байт-код

- ## Какова его роль, значение, актуальность для разработчиков?
    - ### Developer experience
        - Редактор подсвечивает синтаксис и исправляет простые ошибки, при вводе текста подсказывает названия методов и дает ссылки на документацию
    - ### Строгая типизация

      > Тип — это коллекция возможных значений и применимых к ним операций.

        - Тип number представляет набор всех чисел и допустимых для них операций (вроде +, -, *, /, %, ||, && и ?), включая методы, которые можно для них вызывать, такие как `.toFixed`, `.toPrecision`, `.toString`. Булево может быть истиной или ложью.
        - Можно придумать свой тип, например, тип "ДайПять", в котором возможны значения "дай" и "5", и больше ничего. Это не строка и не число, это новый, отдельный тип.
        - ***Статически типизированные*** языки ограничивают типы переменных: язык программирования может знать, например, что x — это Integer. В этом случае программисту запрещается делать `x = true`, это будет некорректный код. Компилятор откажется компилировать его, так что мы не сможем даже запустить такой код.
        - Также есть **динамически типизированные** языки (например, JavaScript), которые помечают значения типами: язык знает, что 1 это integer, 2 это integer, но он не может знать, что переменная *x* всегда содержит integer.
        - [Основные типы в TS](https://metanit.com/web/typescript/2.5.php)

![Screenshot from 2023-03-01 16-53-52.png](https://res.craft.do/user/full/e745a8f7-095b-c43d-44af-e0553b13e0d8/doc/34fc8c6b-7dfc-4d82-a7fa-43badff78b03/628cba22-8fa3-4322-a8a2-5250c57c042f)

- ### Улучшенное ООП
    - TS предлагает расширенную поддержку объектно-ориентированного программирования
    - Интерфейсы, модификаторы доступа, абстрактные классы и.т.д.
- ### Ограничения
    - \#TODO

# Generics, обобщенные типы

- \#TODO

# TypeScript и архитектура

\#TODO

# TypeScript и сторонние библиотеки

При использовании с TS сторонних библиотек написанных на JS возможно необходимо будет предоставить TS декларации типов, так как TS может не распознавать, то что предоставляет библиотека.

- Вы устанавливаете библиотеку обычным способом например `npm i lodash`
- Далее Вам потребуется установить `@types` пакет для этой библиотеки `npm install @types/lodash`
- После этого TypeScript сможет распознавать функции и объекты, предоставляемые библиотекой, и предложит варианты проверки типов и автозаполнения.

**Бывают случаи, когда у библиотеки нет готовых деклараций типов.**

> В такой ситуации кстати стоит задуматься, возможно Вы используете библиотеку, которая уже не поддерживается и стоит поискать альтернативу.

Все же если вам необходимо использовать библиотеку без собственных деклараций типов, то Вы можете сделать следующее:

- Если вы знаете как работает библиотека,то  можно написать свои собственные декларации типов в файле например `lodash.d.ts`
- Использовать тип any, но это может сделать ваш код менее типобезопасным и более трудным в поддерживании
- Также существуют "TS обертки" для библиотек написанные другими разработчиками

# TypeScript нюансы

- ### Typescript не знает о рантайме
    - Компилятор просто берет .ts файлы и перегоняет в .js файлы
    - Все типы исчезают из конечного кода
    - TS не может больше чем JS
        - новые конструкции которые предоставляет TS все равно превратятся в JS
    - Неверные проставленные типы опасны
        - например, TS не знает какие данные придут из API, так как это происходит в рантайме
- ### От чего TS не спасет
    - Код сторонних библиотек
    - Неявное приведение типов самого JS
    - Логические ошибки
        - любой язык не спасет от ошибок бизнес логики

# TypeScript и фреймворки

- Vue
    - [Задачи](./docs/practise.md)